    template<typename T>
    inline T median(T val0, T val1) {
      return (val0 + val1)/2;